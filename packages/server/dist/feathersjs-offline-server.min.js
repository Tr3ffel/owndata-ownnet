var feathersjsOfflineServer=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t,r){"use strict";var n,o,i,a=r(27),u="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function s(){i=!1}function c(e){if(e){if(e!==n){if(e.length!==u.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,s()}}else n!==u&&(n=u,s())}function f(){return i||(i=function(){n||c(u);for(var e,t=n.split(""),r=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||u},characters:function(e){return c(e),n},seed:function(e){a.seed(e),o!==e&&(s(),o=e)},lookup:function(e){return f()[e]},shuffled:f}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0;var u=i(r(12));a(r(3),t),t.hooks=u},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(5)("@feathersjs/errors");function i(e,t,r,a,u){var s,c,f;(e=e||"Error")instanceof Error?(c=e.message||"Error",e.errors&&(s=e.errors)):"object"===n(e)?(c=e.message||"Error",u=e):c=e,u&&((f=JSON.parse(JSON.stringify(u))).errors?(s=f.errors,delete f.errors):u.errors&&(s=JSON.parse(JSON.stringify(u.errors)))),this.type="FeathersError",this.name=t,this.message=c,this.code=r,this.className=a,this.data=f,this.errors=s||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function u(e,t){i.call(this,e,"BadRequest",400,"bad-request",t)}function s(e,t){i.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function c(e,t){i.call(this,e,"PaymentError",402,"payment-error",t)}function f(e,t){i.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){i.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){i.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function h(e,t){i.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function d(e,t){i.call(this,e,"Timeout",408,"timeout",t)}function y(e,t){i.call(this,e,"Conflict",409,"conflict",t)}function v(e,t){i(this,e,"Gone",410,"gone")}function m(e,t){i.call(this,e,"LengthRequired",411,"length-required",t)}function g(e,t){i.call(this,e,"Unprocessable",422,"unprocessable",t)}function b(e,t){i.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function w(e,t){i.call(this,e,"GeneralError",500,"general-error",t)}function S(e,t){i.call(this,e,"NotImplemented",501,"not-implemented",t)}function O(e,t){i.call(this,e,"BadGateway",502,"bad-gateway",t)}function A(e,t){i.call(this,e,"Unavailable",503,"unavailable",t)}a(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),a(u,i),a(s,i),a(c,i),a(f,i),a(l,i),a(p,i),a(h,i),a(d,i),a(y,i),a(v,i),a(m,i),a(g,i),a(b,i),a(w,i),a(S,i),a(O,i),a(A,i);var _={FeathersError:i,BadRequest:u,NotAuthenticated:s,PaymentError:c,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:h,Timeout:d,Conflict:y,Gone:v,LengthRequired:m,Unprocessable:g,TooManyRequests:b,GeneralError:w,NotImplemented:S,BadGateway:O,Unavailable:A,400:u,401:s,402:c,403:f,404:l,405:p,406:h,408:d,409:y,410:v,411:m,422:g,429:b,500:w,501:S,502:O,503:A};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=_[e.name],r=t?new t(e.message,e.data):new Error(e.message||e);return"object"===n(e)&&Object.assign(r,e),r}},_)},function(e,t,r){"use strict";(function(e){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbol=t.makeUrl=t.isPromise=t._=t.stripSlashes=void 0,t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")},t._={each:function(e,r){e&&"function"==typeof e.forEach?e.forEach(r):t._.isObject(e)&&Object.keys(e).forEach((function(t){return r(e[t],t)}))},some:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).some((function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)}))},every:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).every((function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)}))},keys:function(e){return Object.keys(e)},values:function(e){return t._.keys(e).map((function(t){return e[t]}))},isMatch:function(e,r){return t._.keys(r).every((function(t){return e[t]===r[t]}))},isEmpty:function(e){return 0===t._.keys(e).length},isObject:function(e){return"object"===n(e)&&!Array.isArray(e)&&null!==e},isObjectOrArray:function(e){return"object"===n(e)&&null!==e},extend:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign.apply(Object,[e].concat(r))},omit:function(e){for(var r=t._.extend({},e),n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach((function(e){return delete r[e]})),r},pick:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})},merge:function(e,n){return t._.isObject(e)&&t._.isObject(n)&&Object.keys(n).forEach((function(o){t._.isObject(n[o])?(e[o]||Object.assign(e,r({},o,{})),t._.merge(e[o],n[o])):Object.assign(e,r({},o,n[o]))})),e}},t.isPromise=function(e){return t._.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="function"==typeof n.get?n.get.bind(n):function(){},i=o("env")||"production",a=o("host")||e.env.HOST_NAME||"localhost",u="development"===i||"test"===i||void 0===i?"http":"https",s=o("port")||e.env.PORT||3030,c="development"===i||"test"===i||void 0===i?":".concat(s):"";return r=r||"","".concat(u,"://").concat(a).concat(c,"/").concat(t.stripSlashes(r))},t.createSymbol=function(e){return"undefined"!=typeof Symbol?Symbol(e):e}}).call(this,r(4))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){(function(n){var o;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(o=!1,function(){o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(14)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(4))},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATORS=t.FILTERS=void 0;var o=r(1),i=r(2);function a(e){if(void 0!==e)return Math.abs(parseInt(e,10))}function u(e,t,r){if(Array.isArray(e))return e.map((function(e){return u(e,t,r)}));if(o._.isObject(e)&&e.constructor==={}.constructor){var n={};return o._.each(e,(function(o,a){if("$"===a[0]){if(void 0!==r[a])return;if(!t.includes(a))throw new i.BadRequest("Invalid query parameter ".concat(a),e)}n[a]=u(o,t,r)})),Object.getOwnPropertySymbols(e).forEach((function(t){n[t]=e[t]})),n}return e}function s(e,t,r,n){return Array.isArray(r)?o._.each(r,(function(r){void 0!==t[r]&&(e[r]=t[r])})):o._.each(r,(function(r,o){var i=r(t[o],n);void 0!==i&&(e[o]=i)})),e}function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.filters,o=void 0===n?{}:n,i=r.operators,a=void 0===i?[]:i,c={};return c.filters=s({},e,t.FILTERS,r),c.filters=s(c.filters,e,o,r),c.query=u(e,t.OPERATORS.concat(a),c.filters),c}t.FILTERS={$sort:function(e){return"object"!==n(t=e)||Array.isArray(t)?t:Object.keys(t).reduce((function(e,r){return e[r]="object"===n(t[r])?t[r]:parseInt(t[r],10),e}),{});var t},$limit:function(e,t){return function(e,t){if(t&&t.default){var r="number"!=typeof e||isNaN(e)?t.default:e,n="number"==typeof t.max?t.max:Number.MAX_VALUE;return Math.min(r,n)}return e}(a(e),t.paginate)},$skip:function(e){return a(e)},$select:function(e){return e}},t.OPERATORS=["$in","$nin","$lt","$lte","$gt","$gte","$ne","$or"],t.default=c,e.exports=Object.assign(c,e.exports)},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t,r){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var o=new Uint8Array(16);r=function(){return n.getRandomValues(o),o}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=r}).call(this,r(23))},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){throw new TypeError('"'+e+'" is read-only')}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},h=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var y=r(11),v=r(1),m=d(r(2)),g=r(17),b=r(5)("@feathersjs-offline:server:index"),w={useShortUuid:!0,adapterTest:!1},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,r,n,a=c(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var r=Object.assign({},w,e);return b("Constructor started, newOpts = ".concat(JSON.stringify(r))),(t=a.call(this,r)).wrapperOptions=Object.assign({},r,t.options),b("Constructor ended, options = ".concat(JSON.stringify(t.options))),t.type="realtime-class",b("  Done."),t}return t=f,(r=[{key:"_setup",value:function(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return b("_SetUp('".concat(t,"') started")),r.abrupt("return",this.setup(e,t));case 2:case"end":return r.stop()}}),r,this)})))}},{key:"setup",value:function(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,o,a,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(b("SetUp('".concat(t,"') started")),!this._setupPerformed){r.next=3;break}return r.abrupt("return");case 3:return this._setupPerformed=!0,this.options=this.wrapperOptions,n=this,o=e.services[t],this.remoteService=o||e.service(t),e.services[t]=n,this.name=v.stripSlashes(t),this.options=this.wrapperOptions,this.options.adapterTest?(a=Object.assign([],C),(u=a.findIndex((function(e){return e===n.id})))>-1&&a.splice(u,1),this._strip=j.apply(void 0,i(a))):this._strip=function(e){return e},this._select=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return function(t){return y.select.apply(y,[e].concat(r,[n.id]))(t)}},this.listening=!1,this.remoteService instanceof y.AdapterService||this._listenOptions(),b("  Done."),r.abrupt("return",!0);case 17:case"end":return r.stop()}}),r,this)})))}},{key:"_listenOptions",value:function(){var e,t,r=this;this.options=(e=Object.assign({},this.remoteService.options?this.remoteService.options:{},r.options),new Proxy(e,{get:function(e,t){return F&&(x[t]||(x[t]=[]),x[t].push(F)),e[t]},set:function(e,t,r){return e[t]=r,x[t]&&x[t].forEach((function(e){return e()})),!0}})),F=t=function(){r.remoteService.options=Object.assign({},r.remoteService.options,r.options)},t(),F=null}},{key:"_get",value:function(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=k(t),o=n.newParams,n.offline,b("Calling _get(".concat(e,", ").concat(JSON.stringify(o),") params=").concat(JSON.stringify(t))),r.abrupt("return",this.remoteService.get(e,o).then(this._strip).then(this._select(o)));case 3:case"end":return r.stop()}}),r,this)})))}},{key:"_find",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=k(e),n=r.newParams,r.offline,b("Calling _find(".concat(JSON.stringify(n),")")),t.abrupt("return",this.remoteService.find(n).then(this._strip).then(this._select(n)));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"_create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return p(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,a,u,s,c=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=k(t),i=o.newParams,o.offline,b("Calling _create(".concat(JSON.stringify(e),", ").concat(JSON.stringify(t),"),  newParams=").concat(JSON.stringify(i))),!Array.isArray(e)){n.next=5;break}return a=new Date,n.abrupt("return",Promise.all(e.map((function(e){return c._create(e,i,a)}))));case 5:return r=r||new Date,"uuid"in(u=_(e))||(u.uuid=g.genUuid(this.options.useShortUuid)),"updatedAt"in u||(u.updatedAt=r),u.onServerAt=r,s=Object.assign({},t,{dummy:123}),n.abrupt("return",this.remoteService.create(u,s).then(this._strip).then(this._select(i)));case 12:case"end":return n.stop()}}),n,this)})))}},{key:"_update",value:function(e,t,r){return p(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,i,a,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b("Calling0 _update(".concat(e,", ").concat(JSON.stringify(t),", ").concat(JSON.stringify(r),")")),o=k(r),i=o.newParams,o.offline,a=_(t),n.next=5,this.remoteService.get(e,i);case 5:if(u=n.sent,"uuid"in a||(a.uuid=u.uuid),"updatedAt"in a||(a.updatedAt=u.updatedAt),b("newData: ".concat(JSON.stringify(a))),!(new Date(u.onServerAt).getTime()>a.updatedAt)){n.next=13;break}return n.abrupt("return",Promise.resolve(u).then(this._strip));case 13:return a.onServerAt=new Date,n.abrupt("return",this.remoteService.update(e,a,i).then(this._strip).then(this._select(i)));case 15:case"end":return n.stop()}}),n,this)})))}},{key:"_patch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,u,s,c,f,l=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=k(r),u=a.newParams,a.offline,b("Calling _patch(".concat(e,", ").concat(JSON.stringify(t),", ").concat(JSON.stringify(u),")")),null!==e){i.next=8;break}if(this.allowsMulti("patch")){i.next=6;break}throw new m.default.MethodNotAllowed("Patching multiple without option 'multi' set");case 6:return s=new Date,i.abrupt("return",this.remoteService.find(u).then((function(e){var n=e.data?e.data:e;Array.isArray(n)||(o("res"),n=[n]);var i=l;return Promise.all(n.map((function(e){return i._patch(e[i.id],t,r,s)})))})));case 8:return c=_(t),i.next=11,this.remoteService.get(e,u);case 11:if(f=i.sent,!(new Date(f.onServerAt).getTime()>c.updatedAt)){i.next=16;break}return i.abrupt("return",Promise.resolve(f).then(this._strip).then(this._select(u)));case 16:return c.onServerAt=n||new Date,i.abrupt("return",this.remoteService.patch(e,c,u).then(this._strip).then(this._select(r)));case 18:case"end":return i.stop()}}),i,this)})))}},{key:"_remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return p(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,u,s,c=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=k(t),a=i.newParams,u=i.offline,b("Calling _remove(".concat(e,", ").concat(JSON.stringify(a),")")),null!==e){n.next=8;break}if(this.allowsMulti("remove")){n.next=6;break}throw new m.default.MethodNotAllowed("Removing multiple without option 'multi' set");case 6:return s=new Date,n.abrupt("return",this.remoteService.find(a).then((function(e){var r=e.data?e.data:e;Array.isArray(r)||(o("res"),r=[r]);var n=c;return Promise.all(r.map((function(e){return n._remove(e[n.id],t,s)})))})));case 8:if(r=r||new Date,!u||!("_forceAll"in u)){n.next=13;break}return n.abrupt("return",this.remoteService.remove(e,a).then(this._strip).then(this._select(a)));case 13:return n.abrupt("return",this.remoteService.patch(e,{deletedAt:r},a).then((function(e){return e})).then(this._strip).then(this._select(a)));case 14:case"end":return n.stop()}}),n,this)})))}}])&&u(t.prototype,r),n&&u(t,n),f}(y.AdapterService),O=function(e,t){return new S(e,t)};O.Service=S;var A=O;function _(e){return Object.assign({},e)}e.exports={init:O,Realtime:A,realtimeWrapper:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(b("realtimeWrapper started on path '".concat(t,"'")),!(e&&e.version&&e.service&&e.services))throw new m.default.Unavailable("The FeathersJS app must be supplied as first argument");var n=v.stripSlashes(t),o=e.services[n];if(void 0===o)throw new m.default.Unavailable("No prior service registered on path '".concat(n,"'"));var i=Object.assign({},o.options,r),a=A(i,e);return e.use(n,a),(a=e.service(n)).options=i,a._listenOptions(),a.remoteService=o,e.services[n]}};var C=["uuid","updatedAt","onServerAt","deletedAt"],j=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r;return Array.isArray(e)?(r=[],e.map((function(e,n,o){var i=_(o[n]);t.forEach((function(e){return delete i[e]})),r.push(i)}))):(r=_(e),t.forEach((function(e){return delete r[e]}))),r}},k=function(e){if(!e)return{newParams:{query:{}},offline:{}};var t=e=JSON.parse(JSON.stringify(e)),r=t.paginate,n=t.query,o=void 0===n?{}:n,i=(h(e,["paginate","query"]),o.offline),a={};return i?(delete o.offline,"_forceAll"in i?(delete o.deletedAt,"onServerAt"in i&&(o.onServerAt={$gte:new Date(i.onServerAt).getTime()})):o.deletedAt=null):o=o&&o!=={}?Object.assign(o,{deletedAt:null}):{deletedAt:null},a.query=o,void 0!==r&&(a.paginate=r),{newParams:a,offline:void 0!==i?i:{}}},x=[],F=null},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.select=t.OPERATORS=t.FILTERS=t.filterQuery=t.AdapterService=void 0;var s=r(1),c=r(13);Object.defineProperty(t,"AdapterService",{enumerable:!0,get:function(){return c.AdapterService}});var f=r(6);Object.defineProperty(t,"filterQuery",{enumerable:!0,get:function(){return u(f).default}}),Object.defineProperty(t,"FILTERS",{enumerable:!0,get:function(){return f.FILTERS}}),Object.defineProperty(t,"OPERATORS",{enumerable:!0,get:function(){return f.OPERATORS}}),a(r(16),t),t.select=function(e){for(var t=e&&e.query&&e.query.$select,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];Array.isArray(t)&&o.length&&t.push.apply(t,o);var a=function(e){var r;return Array.isArray(t)?(r=s._).pick.apply(r,[e].concat(n(t))):e};return function(e){return Array.isArray(e)?e.map(a):a(e)}}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.enableHooks=t.processHooks=t.getHooks=t.isHookObject=t.convertHookData=t.makeArguments=t.defaultMakeArguments=t.createHookObject=t.ACTIVATE_HOOKS=void 0;var o=r(3),i=o._,a=i.each,u=i.pick;function s(e){var t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t}function c(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==n(e)?t={all:[e]}:a(e,(function(e,r){t[r]=Array.isArray(e)?e:[e]})),t}function f(e){return"object"===n(e)&&"string"==typeof e.method&&"string"==typeof e.type}t.ACTIVATE_HOOKS=o.createSymbol("__feathersActivateHooks"),t.createHookObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return Object.defineProperty(r,"toJSON",{value:function(){return u(this,"type","method","path","params","id","data","result","error")}}),Object.assign(r,t,{method:e,get path(){var e=t.app,r=t.service;return r&&e&&e.services?Object.keys(e.services).find((function(t){return e.services[t]===r})):null}})},t.defaultMakeArguments=s,t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return s(e)},t.convertHookData=c,t.isHookObject=f,t.getHooks=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.__hooks[r][n]||[],a=t.__hooks[r][n]||[];return o?a.concat(i):i.concat(a)},t.processHooks=function(e,t){var r=this,n=t,o=function(e){if(e){if(!f(e))throw new Error("".concat(n.type," hook for '").concat(n.method,"' method returned invalid hook object"));n=e}return n};return e.reduce((function(e,t){var n=t.bind(r);return e.then((function(e){return n(e)})).then(o)}),Promise.resolve(n)).then((function(){return n})).catch((function(e){throw e.hook=n,e}))},t.enableHooks=function(e,t,r){if("function"==typeof e.hooks)return e;var n={};return r.forEach((function(e){n[e]={}})),Object.defineProperty(e,"__hooks",{configurable:!0,value:n,writable:!0}),Object.assign(e,{hooks:function(e){var r=this;return a(e,(function(e,n){if(!r.__hooks[n])throw new Error("'".concat(n,"' is not a valid hook type"));var o=c(e);a(o,(function(e,r){if("all"!==r&&-1===t.indexOf(r))throw new Error("'".concat(r,"' is not a valid hook method"))})),t.forEach((function(e){var t=r.__hooks[n][e]||(r.__hooks[n][e]=[]);o.all&&t.push.apply(t,o.all),o[e]&&t.push.apply(t,o[e])}))})),this}})}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdapterService=void 0;var i=r(2),a=o(r(6)),u=function(e,t){if("function"!=typeof e[t])return Promise.reject(new i.NotImplemented("Method ".concat(t," not available")));for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e[t].apply(e,n)},s={find:!0,get:!1,update:!1},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({id:"id",events:[],paginate:{},multi:!1,filters:[],whitelist:[]},t)}var t,r,o;return t=e,(r=[{key:"filterQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.paginate?e.paginate:this.options.paginate,n=e.query,o=void 0===n?{}:n,i=Object.assign({operators:this.options.whitelist||[],filters:this.options.filters,paginate:r},t),u=a.default(o,i);return Object.assign(u,{paginate:r})}},{key:"allowsMulti",value:function(e){var t=s[e];if(void 0!==t)return t;var r=this.options.multi;return!0===r||!1===r?r:r.includes(e)}},{key:"find",value:function(e){return u(this,"_find",e)}},{key:"get",value:function(e,t){return u(this,"_get",e,t)}},{key:"create",value:function(e,t){return Array.isArray(e)&&!this.allowsMulti("create")?Promise.reject(new i.MethodNotAllowed("Can not create multiple entries")):u(this,"_create",e,t)}},{key:"update",value:function(e,t,r){return null===e||Array.isArray(t)?Promise.reject(new i.BadRequest("You can not replace multiple instances. Did you mean 'patch'?")):u(this,"_update",e,t,r)}},{key:"patch",value:function(e,t,r){return null!==e||this.allowsMulti("patch")?u(this,"_patch",e,t,r):Promise.reject(new i.MethodNotAllowed("Can not patch multiple entries"))}},{key:"remove",value:function(e,t){return null!==e||this.allowsMulti("remove")?u(this,"_remove",e,t):Promise.reject(new i.MethodNotAllowed("Can not remove multiple entries"))}},{key:"id",get:function(){return this.options.id}},{key:"events",get:function(){return this.options.events}}])&&n(t.prototype,r),o&&n(t,o),e}();t.AdapterService=c},function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){function t(e){var r,n=null;function i(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(i.enabled){var a=i,u=Number(new Date),s=u-(r||u);a.diff=s,a.prev=r,a.curr=u,r=u,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";c++;var o=t.formatters[r];if("function"==typeof o){var i=n[c];e=o.call(a,i),n.splice(c,1),c--}return e})),t.formatArgs.call(a,n);var f=a.log||t.log;f.apply(a,n)}}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===n?t.enabled(e):n},set:function(e){n=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(15),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.sorter=t.compare=t.compareArrays=t.compareNSB=void 0,t.compareNSB=function(e,t){return e<t?-1:e>t?1:0},t.compareArrays=function(e,r){var n,o;for(n=0;n<Math.min(e.length,r.length);n+=1)if(0!==(o=t.compare(e[n],r[n])))return o;return t.compareNSB(e.length,r.length)},t.compare=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.compareNSB,o=t,i=o.compareNSB,a=o.compare,u=o.compareArrays;if(void 0===e)return void 0===r?0:-1;if(void 0===r)return void 0===e?0:1;if(null===e)return null===r?0:-1;if(null===r)return null===e?0:1;if("number"==typeof e)return"number"==typeof r?i(e,r):-1;if("number"==typeof r)return"number"==typeof e?i(e,r):1;if("string"==typeof e)return"string"==typeof r?n(e,r):-1;if("string"==typeof r)return"string"==typeof e?n(e,r):1;if("boolean"==typeof e)return"boolean"==typeof r?i(e,r):-1;if("boolean"==typeof r)return"boolean"==typeof e?i(e,r):1;if(e instanceof Date)return r instanceof Date?i(e.getTime(),r.getTime()):-1;if(r instanceof Date)return e instanceof Date?i(e.getTime(),r.getTime()):1;if(Array.isArray(e))return Array.isArray(r)?u(e,r):-1;if(Array.isArray(r))return Array.isArray(e)?u(e,r):1;for(var s=Object.keys(e).sort(),c=Object.keys(r).sort(),f=0,l=0;l<Math.min(s.length,c.length);l+=1)if(0!==(f=a(e[s[l]],r[c[l]])))return f;return i(s.length,c.length)},t.sorter=function(e){var r=Object.keys(e).map((function(t){return{key:t,direction:e[t]}}));return function(e,o){var i,a,u=n(r);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(0!==(i=s.direction*t.compare(e[s.key],o[s.key])))return i}}catch(e){u.e(e)}finally{u.f()}return 0}}},function(e,t,r){var n=r(18),o=r(21).v4,i=r(25),a=r(34).stripProps;function u(e){return e="string"==typeof e?e:JSON.stringify(e),n(e)}e.exports={genUuid:function(e){return e?i.generate():o()},hash:u,hashOfRecord:function(e){return u(a(e,["id","_id"]))}}},function(e,t,r){var n,o,i,a,u;n=r(19),o=r(7).utf8,i=r(20),a=r(7).bin,(u=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),s=8*e.length,c=1732584193,f=-271733879,l=-1732584194,p=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[s>>>5]|=128<<s%32,r[14+(s+64>>>9<<4)]=s;var d=u._ff,y=u._gg,v=u._hh,m=u._ii;for(h=0;h<r.length;h+=16){var g=c,b=f,w=l,S=p;c=d(c,f,l,p,r[h+0],7,-680876936),p=d(p,c,f,l,r[h+1],12,-389564586),l=d(l,p,c,f,r[h+2],17,606105819),f=d(f,l,p,c,r[h+3],22,-1044525330),c=d(c,f,l,p,r[h+4],7,-176418897),p=d(p,c,f,l,r[h+5],12,1200080426),l=d(l,p,c,f,r[h+6],17,-1473231341),f=d(f,l,p,c,r[h+7],22,-45705983),c=d(c,f,l,p,r[h+8],7,1770035416),p=d(p,c,f,l,r[h+9],12,-1958414417),l=d(l,p,c,f,r[h+10],17,-42063),f=d(f,l,p,c,r[h+11],22,-1990404162),c=d(c,f,l,p,r[h+12],7,1804603682),p=d(p,c,f,l,r[h+13],12,-40341101),l=d(l,p,c,f,r[h+14],17,-1502002290),c=y(c,f=d(f,l,p,c,r[h+15],22,1236535329),l,p,r[h+1],5,-165796510),p=y(p,c,f,l,r[h+6],9,-1069501632),l=y(l,p,c,f,r[h+11],14,643717713),f=y(f,l,p,c,r[h+0],20,-373897302),c=y(c,f,l,p,r[h+5],5,-701558691),p=y(p,c,f,l,r[h+10],9,38016083),l=y(l,p,c,f,r[h+15],14,-660478335),f=y(f,l,p,c,r[h+4],20,-405537848),c=y(c,f,l,p,r[h+9],5,568446438),p=y(p,c,f,l,r[h+14],9,-1019803690),l=y(l,p,c,f,r[h+3],14,-187363961),f=y(f,l,p,c,r[h+8],20,1163531501),c=y(c,f,l,p,r[h+13],5,-1444681467),p=y(p,c,f,l,r[h+2],9,-51403784),l=y(l,p,c,f,r[h+7],14,1735328473),c=v(c,f=y(f,l,p,c,r[h+12],20,-1926607734),l,p,r[h+5],4,-378558),p=v(p,c,f,l,r[h+8],11,-2022574463),l=v(l,p,c,f,r[h+11],16,1839030562),f=v(f,l,p,c,r[h+14],23,-35309556),c=v(c,f,l,p,r[h+1],4,-1530992060),p=v(p,c,f,l,r[h+4],11,1272893353),l=v(l,p,c,f,r[h+7],16,-155497632),f=v(f,l,p,c,r[h+10],23,-1094730640),c=v(c,f,l,p,r[h+13],4,681279174),p=v(p,c,f,l,r[h+0],11,-358537222),l=v(l,p,c,f,r[h+3],16,-722521979),f=v(f,l,p,c,r[h+6],23,76029189),c=v(c,f,l,p,r[h+9],4,-640364487),p=v(p,c,f,l,r[h+12],11,-421815835),l=v(l,p,c,f,r[h+15],16,530742520),c=m(c,f=v(f,l,p,c,r[h+2],23,-995338651),l,p,r[h+0],6,-198630844),p=m(p,c,f,l,r[h+7],10,1126891415),l=m(l,p,c,f,r[h+14],15,-1416354905),f=m(f,l,p,c,r[h+5],21,-57434055),c=m(c,f,l,p,r[h+12],6,1700485571),p=m(p,c,f,l,r[h+3],10,-1894986606),l=m(l,p,c,f,r[h+10],15,-1051523),f=m(f,l,p,c,r[h+1],21,-2054922799),c=m(c,f,l,p,r[h+8],6,1873313359),p=m(p,c,f,l,r[h+15],10,-30611744),l=m(l,p,c,f,r[h+6],15,-1560198380),f=m(f,l,p,c,r[h+13],21,1309151649),c=m(c,f,l,p,r[h+4],6,-145523070),p=m(p,c,f,l,r[h+11],10,-1120210379),l=m(l,p,c,f,r[h+2],15,718787259),f=m(f,l,p,c,r[h+9],21,-343485551),c=c+g>>>0,f=f+b>>>0,l=l+w>>>0,p=p+S>>>0}return n.endian([c,f,l,p])})._ff=function(e,t,r,n,o,i,a){var u=e+(t&r|~t&n)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._gg=function(e,t,r,n,o,i,a){var u=e+(t&n|r&~n)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._hh=function(e,t,r,n,o,i,a){var u=e+(t^r^n)+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._ii=function(e,t,r,n,o,i,a){var u=e+(r^(t|~n))+(o>>>0)+a;return(u<<i|u>>>32-i)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(u(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?t.push(r.charAt(o>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(e.charAt(n))>>>6-2*o);return t}},e.exports=n},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){var n=r(22),o=r(24),i=o;i.v1=n,i.v4=o,e.exports=i},function(e,t,r){var n=r(8),o=r(9),i=n(),a=[1|i[0],i[1],i[2],i[3],i[4],i[5]],u=16383&(i[6]<<8|i[7]),s=0,c=0;e.exports=function(e,t,r){var n=t&&r||0,i=t||[],f=void 0!==(e=e||{}).clockseq?e.clockseq:u,l=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:c+1,h=l-s+(p-c)/1e4;if(h<0&&void 0===e.clockseq&&(f=f+1&16383),(h<0||l>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=l,c=p,u=f;var d=(1e4*(268435455&(l+=122192928e5))+p)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=255&d;var y=l/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=255&y,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=f>>>8|128,i[n++]=255&f;for(var v=e.node||a,m=0;m<6;++m)i[n+m]=v[m];return t||o(i)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(8),o=r(9);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t,r){"use strict";e.exports=r(26)},function(e,t,r){"use strict";var n=r(0),o=r(28),i=r(32),a=r(33)||0;function u(){return o(a)}e.exports=u,e.exports.generate=u,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=i},function(e,t,r){"use strict";var n=1;e.exports={nextValue:function(){return(n=(9301*n+49297)%233280)/233280},seed:function(e){n=e}}},function(e,t,r){"use strict";var n,o,i=r(29);r(0);e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===o?n++:(n=0,o=r),t+=i(7),t+=i(e),n>0&&(t+=i(n)),t+=i(r)}},function(e,t,r){"use strict";var n=r(0),o=r(30),i=r(31);e.exports=function(e){for(var t,r=0,a="";!t;)a+=i(o,n.get(),1),t=e<Math.pow(16,r+1),r++;return a}},function(e,t,r){"use strict";var n,o="object"==typeof window&&(window.crypto||window.msCrypto);n=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=n},function(e,t){e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*n*r/t.length),i="";;)for(var a=e(o),u=o;u--;)if((i+=t[a[u]&n]||"").length===+r)return i}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},function(e,t,r){"use strict";e.exports=0},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return"object"===r(e)&&!Array.isArray(e)&&null!==e}e.exports={isObject:n,stripProps:function e(t,r){r=Array.isArray(r)?r:r||[];var o={};return Object.keys(t).forEach((function(i){if(-1===r.indexOf(i)){var a=t[i];o[i]=n(a)?e(a,r):a}})),o}}}]);